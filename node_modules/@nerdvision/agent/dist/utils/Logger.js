"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const Configuration_1 = __importDefault(require("../models/Configuration"));
class Logger {
    static log(...message) {
        Logger.send('log', ...message);
    }
    static info(...message) {
        Logger.send('info', ...message);
    }
    static error(...message) {
        Logger.send('error', ...message);
    }
    static breakpoint(message, breakpoint) {
        const lineNumber = breakpoint.getLineNo() - 1; // nerd.vision line numbers start at 1, js starts at 0
        Logger.info(`${message} ${breakpoint.getRelPath()}:${lineNumber} (nv: ${breakpoint.getLineNo()})`);
    }
    static send(type, ...raw) {
        if (Logger.disable || !Configuration_1.default.debug) {
            return;
        }
        const date = new Date().toISOString().replace('T', ' ');
        const prefix = `${date} [nv.debugger:${type}]`;
        console[type](prefix, ...raw);
    }
}
Logger.disable = false;
exports.default = Logger;
