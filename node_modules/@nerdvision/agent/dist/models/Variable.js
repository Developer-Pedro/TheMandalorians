"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class Variable {
    constructor(variable) {
        this._ref = false;
        // if there are only two keys, it's a variable reference
        if (Object.keys(variable).length === 2) {
            this._ref = true;
            this._name = variable.name;
            this._id = variable.id;
            return;
        }
        this._name = variable.name;
        this._type = variable.type;
        this._value = variable.value;
        this._id = variable.id;
        this._hash = this._id.toString(16);
        if (variable.children) {
            this._children = variable.children.map((v) => new Variable(v));
        }
    }
    toJSON() {
        if (this._ref) {
            return {
                id: this._id,
                name: this._name,
            };
        }
        return {
            id: this._id,
            name: this._name,
            type: this._type,
            value: `${this._value}`,
            hash: this._hash,
            children: this._children,
        };
    }
}
exports.default = Variable;
